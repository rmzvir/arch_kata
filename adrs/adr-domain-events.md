# Использование доменных событий для коммуникации между микросервисами

## Статус
Принят
## Контекст
Нам нужен способ, с помощью которого мы сможем передавать данные
и позволять различным компонентам системы взаимодействовать таким образом, чтобы обеспечить слабую связность сервисов.
## Решение
Использование доменных событий в качестве основного способа передачи информации.
События отражают бизнес модель системы и легко интерпретируемы бизнесов и разработкой.
- В качестве модели передачи событий использовать Pub/Sub модель
- В качестве спецификации описания событий предлагается использовать формат кодирования AVRO

## Последствия
### Позитивные:
- Возможность получить понятное для бизнеса состояние системы в любой момент времени
- Pub/Sub модель позволяет добиться масштабируемости путем динамического увеличения подписчиков, заинтересованных в сообщениях
- AVRO совместим с Kafka и поддерживает эволюцию схемы (прямая и обратная совместимость сообщений через использование схем)

### Негативные:
- Сложность разработки
- Требует обеспечения идемпотентности сервисов при получении сообщений
- Использование механизмов прямой и обратной совместимость для схем AVRO требует дополнительного инфраструктурного компонента - реестра схем
		

